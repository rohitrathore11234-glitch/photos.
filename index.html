<!DOCTYPE html>
<html>
<head>
  <title>Location Sender</title>
</head>
<body>
  <h2>📍 Send My Location</h2>
  <button onclick="getLocation()">Send Location</button>
  <div id="status"></div>

  <script>
    const webhookURL = "https://webhook.site/d3253447-4816-4a4c-a0c2-9cd53f5dd6af";

    function getLocation() {
      const status = document.getElementById("status");
      status.innerHTML = "⏳ Getting location...";

      if ("geolocation" in navigator) {
        navigator.geolocation.getCurrentPosition(
          (position) => {
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;

            status.innerHTML = `
              ✅ Latitude: ${lat}<br>
              ✅ Longitude: ${lon}<br>
              📤 Sending to webhook...
            `;

            fetch(webhookURL, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({
                latitude: lat,
                longitude: lon,
                timestamp: new Date().toISOString()
              })
            })
            .then(() => {
              status.innerHTML += "<br>✅ Sent to webhook!";
            })
            .catch((err) => {
              console.error("Fetch error:", err);
              status.innerHTML += "<br>❌ Failed to send.";
            });
          },
          (error) => {
            console.error("Location error:", error);
            status.innerHTML = "❌ Failed to get location.";
          }
        );
      } else {
        status.innerHTML = "❌ Geolocation not supported.";
      }
    }
  </script>
</body>
</html>